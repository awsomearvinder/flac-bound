<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `FLAC__metadata_chain_write` fn in crate `flac_sys`."><meta name="keywords" content="rust, rustlang, rust-lang, FLAC__metadata_chain_write"><title>flac_sys::FLAC__metadata_chain_write - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../dark.css"><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script src="../storage.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="shortcut icon" href="../favicon.ico"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc fn"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../flac_sys/index.html'><div class='logo-container'><img src='../rust-logo.png' alt='logo'></div></a><div class="sidebar-elems"><p class='location'><a href='index.html'>flac_sys</a></p><script>window.sidebarCurrent = {name: 'FLAC__metadata_chain_write', ty: 'fn', relpath: ''};</script><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><a id="settings-menu" href="../settings.html"><img src="../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='../src/flac_sys/lib.rs.html#2978-2982' title='goto source code'>[src]</a></span><span class='in-band'>Function <a href='index.html'>flac_sys</a>::<wbr><a class="fn" href=''>FLAC__metadata_chain_write</a></span></h1><pre class='rust fn'>pub unsafe extern &quot;C&quot; fn FLAC__metadata_chain_write(<br>&nbsp;&nbsp;&nbsp;&nbsp;chain: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.pointer.html">*mut </a><a class="struct" href="../flac_sys/struct.FLAC__Metadata_Chain.html" title="struct flac_sys::FLAC__Metadata_Chain">FLAC__Metadata_Chain</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;use_padding: <a class="type" href="../flac_sys/type.FLAC__bool.html" title="type flac_sys::FLAC__bool">FLAC__bool</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;preserve_file_stats: <a class="type" href="../flac_sys/type.FLAC__bool.html" title="type flac_sys::FLAC__bool">FLAC__bool</a><br>) -&gt; <a class="type" href="../flac_sys/type.FLAC__bool.html" title="type flac_sys::FLAC__bool">FLAC__bool</a></pre><div class='docblock'><p>Write all metadata out to the FLAC file.  This function tries to be as
efficient as possible; how the metadata is actually written is shown by
the following:</p>
<p>If the current chain is the same size as the existing metadata, the new
data is written in place.</p>
<p>If the current chain is longer than the existing metadata, and
\a use_padding is \c true, and the last block is a PADDING block of
sufficient length, the function will truncate the final padding block
so that the overall size of the metadata is the same as the existing
metadata, and then just rewrite the metadata.  Otherwise, if not all of
the above conditions are met, the entire FLAC file must be rewritten.
If you want to use padding this way it is a good idea to call
FLAC__metadata_chain_sort_padding() first so that you have the maximum
amount of padding to work with, unless you need to preserve ordering
of the PADDING blocks for some reason.</p>
<p>If the current chain is shorter than the existing metadata, and
\a use_padding is \c true, and the final block is a PADDING block, the padding
is extended to make the overall size the same as the existing data.  If
\a use_padding is \c true and the last block is not a PADDING block, a new
PADDING block is added to the end of the new data to make it the same
size as the existing data (if possible, see the note to
FLAC__metadata_simple_iterator_set_block() about the four byte limit)
and the new data is written in place.  If none of the above apply or
\a use_padding is \c false, the entire FLAC file is rewritten.</p>
<p>If \a preserve_file_stats is \c true, the owner and modification time will
be preserved even if the FLAC file is written.</p>
<p>For this write function to be used, the chain must have been read with
FLAC__metadata_chain_read()/FLAC__metadata_chain_read_ogg(), not
FLAC__metadata_chain_read_with_callbacks()/FLAC__metadata_chain_read_ogg_with_callbacks().</p>
<p>\param chain               A pointer to an existing chain.
\param use_padding         See above.
\param preserve_file_stats See above.
\assert
\code chain != NULL \endcode
\retval FLAC__bool
\c true if the write succeeded, else \c false.  On failure,
check the status with FLAC__metadata_chain_status().</p>
</div></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../";window.currentCrate = "flac_sys";</script><script src="../main.js"></script><script defer src="../search-index.js"></script></body></html>